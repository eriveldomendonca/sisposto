CREATE TABLE TIPOCOMBUSTIVEL
(
    ID INTEGER NOT NULL,
    DESCRICAO VARCHAR(50) NOT NULL,
    VALORLITRO FLOAT NOT NULL,
    CONSTRAINT PK_TIPOCOMBUSTIVEL PRIMARY KEY(ID)
);

CREATE GENERATOR G_TIPOCOMBUSTIVEL;

CREATE OR ALTER TRIGGER TR_TIPOCOMBUSTIVEL FOR TIPOCOMBUSTIVEL
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ID = gen_id(G_TIPOCOMBUSTIVEL, 1);
END;

CREATE TABLE TANQUE
(
    ID INTEGER NOT NULL,
    DESCRICAO VARCHAR(50) NOT NULL,
    TIPOCOMBUSTIVEL_ID INTEGER NOT NULL,
    CONSTRAINT PK_TANQUE PRIMARY KEY(ID),
	CONSTRAINT FK_TIPOCOMBUSTIVEL FOREIGN KEY(TIPOCOMBUSTIVEL_ID) REFERENCES TIPOCOMBUSTIVEL(ID)
);

CREATE GENERATOR G_TANQUE;

CREATE OR ALTER TRIGGER TR_TANQUE FOR TANQUE
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ID = gen_id(G_TANQUE, 1);
END;

CREATE TABLE BOMBA
(
    ID INTEGER NOT NULL,
    DESCRICAO VARCHAR(50) NOT NULL,
    TANQUE_ID INTEGER NOT NULL,
    CONSTRAINT PK_BOMBA PRIMARY KEY(ID),
    CONSTRAINT FK_TANQUE FOREIGN KEY(TANQUE_ID) REFERENCES TANQUE(ID)
);

CREATE GENERATOR G_BOMBA;

CREATE OR ALTER TRIGGER TR_BOMBA FOR BOMBA
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ID = gen_id(G_BOMBA, 1);
END;

CREATE TABLE VENDA
(
    ID INTEGER NOT NULL,
    DATAVENDA DATE NOT NULL,
    BOMBA_ID INTEGER NOT NULL,
    QTDLITRO FLOAT NOT NULL,
    VALORLITRO FLOAT NOT NULL,
    PERCIMPOSTO FLOAT NOT NULL,
    CONSTRAINT PK_VENDA PRIMARY KEY(ID),
    CONSTRAINT FK_BOMBA FOREIGN KEY(BOMBA_ID) REFERENCES BOMBA(ID)
);

CREATE GENERATOR G_VENDA;

CREATE OR ALTER TRIGGER TR_VENDA FOR VENDA
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ID = gen_id(G_VENDA, 1);
END;

CREATE TABLE SISTEMA
(
    NOMEPOSTO VARCHAR(50) NOT NULL,
    PERCIMPOSTO FLOAT NOT NULL
);